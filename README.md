# JetBrainsInternship
Introductory assignment for the internship (improving Rider integration with Unreal Editor).

Опишу что есть в проекте по шагам.

Сначала, надо запустить скрипт `prepare_data.sh` - он скачает нужный нам файл `words.txt` в папку data.

Далее, в проекте есть три исполняемых объекта:

1) `indexer` 
   
    Он строит суффиксный автомат по словам из `words.txt`. После построения автомата, он записывается его на диск 
    в файл `data/prepared_words.bin` в удобном мне двоичном формате. Важно отметить, тот факт, что в 
   `indexer/SuffixAutomation` реализован работающий суффиксный автомат и по-хорошему мы бы могли его использовать,
   но мы не хотим хранить его на оперативной памяти. Индексация занимает примерно 10 секунд.


2) `substring-index-search`

    Находит всевозможные вхождения подстроки. Здесь я веду работу с файлом `prepared_words.bin`, не храня его полностью в 
    оперативе. Кроме того я вызвал `mmap` для этого файла, чтобы ускорить работу моей программы (появится кэширование).
    По сути, моя программа ходит по вершинам автомата, прыгая по отображённой памяти. Чтобы быстро перемещаться по 
    файлу я храню сдвиг каждой 1000 вершины (это считается нормальной практикой).


3) `subsequence-parallel-search`

    Здесь я применил совершенно другой подход. Я условно "побил" мой файл на блоки, и каждый блок дал обраратываться своему 
    потоку. Поток просматривает все строки в блоке и выбирает только нужные. На момент вывода нужных строки в консоль, я 
    повесил `lock_guard` (чтобы вывод был корректным).


4) `substring-parallel-search`

   Примерно то же самое, что и в `subsequence-parallel-search`. Для каждой строки в блоке нужно роверить наличие нужной
   в ней подстроки, построив префикс-функцию.


*Замечание:*

Я посчитал способ с суффавтоматом и индексацией более интересным. Кроме того для довольно редких подпоследовательностей
("zyzz", к примкеру) он будет работать быстрее (хотя бы асимптотически).

